#!/usr/bin/env bash
# This script installs the NGINX web server and configures it to return "Hello World!" on the root URL.

# Update package list and install Nginx
sudo apt-get update
sudo apt-get -y install nginx

# Check if Nginx is installed and running
if [ -x "$(command -v nginx)" ]; then
    echo "Nginx is installed."
else
    echo "Nginx installation failed."
    exit 1
fi

# Create a simple HTML file with "Hello World!"
echo "<html><body>Hello World!</body></html>" | sudo tee /var/www/html/index.html

# Check if Nginx returns "Hello World!" on the root URL
response=$(curl -s http://localhost)
if [[ $response == *"Hello World!"* ]]; then
    echo "Nginx returns 'Hello World!' on the root URL."
else
    echo "Nginx does not return 'Hello World!' on the root URL."
    exit 1
fi

# Reload Nginx configuration
sudo /etc/init.d/nginx reload

echo "Script completed successfully."

